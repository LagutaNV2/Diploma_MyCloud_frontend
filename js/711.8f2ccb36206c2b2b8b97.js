"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[711],{711:function(e,t,a){a.r(t);var r=a(540),l=a(794),n=a(394),s=a(976),m=a(857);t.default=()=>{const[e,t]=(0,r.useState)(""),[a,o]=(0,r.useState)(""),[u,c]=(0,r.useState)(""),[d,i]=(0,r.useState)(""),[b,p]=(0,r.useState)(""),[g,E]=(0,r.useState)(!1),[f,v]=(0,r.useState)({}),y=(0,n.j)(),N=(0,l.Zp)();return r.createElement("div",{className:"max-w-md mx-auto py-12"},r.createElement("h2",{className:"text-2xl font-bold mb-6 text-center"},"–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è"),f.general&&r.createElement("div",{className:"bg-red-600 text-white font-bold px-4 py-3 rounded mb-4"},f.general),r.createElement("form",{onSubmit:async t=>{if(t.preventDefault(),await(0,m.m)(),(()=>{const t={};return/^[a-zA-Z][a-zA-Z0-9]{3,19}$/.test(e)||(t.username="–õ–æ–≥–∏–Ω –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å –±—É–∫–≤—ã, —Å–æ–¥–µ—Ä–∂–∞—Ç—å 4-20 —Å–∏–º–≤–æ–ª–æ–≤ (–ª–∞—Ç–∏–Ω–∏—Ü–∞ –∏ —Ü–∏—Ñ—Ä—ã)"),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d)||(t.email="–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email"),/^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{6,}$/.test(b)||(t.password="–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤: 1 –∑–∞–≥–ª–∞–≤–Ω—É—é, 1 —Ü–∏—Ñ—Ä—É, 1 —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª"),v(t),0===Object.keys(t).length})())try{console.log("Registration starts...");const t=await y((0,s.DY)({username:e,first_name:a,last_name:u,email:d,password:b})).unwrap();console.log("Registration successful:",t);t.user.is_admin?N("/admin"):N("/storage")}catch(e){if(e){const t=e||{},a={};t.username[0]&&(a.username=t.username[0]),t.non_field_errors&&(a.general=Array.isArray(t.non_field_errors)?t.non_field_errors[0]:t.non_field_errors),["password","email"].forEach(e=>{t[e]&&!a[e]&&(a[e]=Array.isArray(t[e])?t[e][0]:t[e])}),v(a)}else v({general:e.message||"–ü—Ä–æ–∏–∑–æ—à–ª–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏"})}},className:"space-y-4"},r.createElement("div",null,r.createElement("div",null,r.createElement("label",{className:"block mb-1 font-medium"},"–ò–º—è"),r.createElement("input",{type:"text",value:a,onChange:e=>o(e.target.value),className:"w-full p-2 border border-gray-300 rounded"})),r.createElement("div",null,r.createElement("label",{className:"block mb-1 font-medium"},"–§–∞–º–∏–ª–∏—è"),r.createElement("input",{type:"text",value:u,onChange:e=>c(e.target.value),className:"w-full p-2 border border-gray-300 rounded"})),r.createElement("label",{className:"block mb-1 font-medium"},"–õ–æ–≥–∏–Ω*"),r.createElement("input",{type:"text",value:e,onChange:e=>t(e.target.value),className:"w-full p-2 border rounded "+(f.username?"border-red-500":"border-gray-300"),required:!0}),f.username&&r.createElement("p",{className:"error-text"},f.username)),r.createElement("div",null,r.createElement("label",{className:"block mb-1 font-medium"},"Email*"),r.createElement("input",{type:"text",value:d,onChange:e=>i(e.target.value),className:"w-full p-2 border rounded "+(f.email?"border-red-500":"border-gray-300"),required:!0}),f.email&&r.createElement("p",{className:"error-text"},f.email)),r.createElement("div",{className:"relative"},r.createElement("label",{className:"block mb-1 font-medium"},"–ü–∞—Ä–æ–ª—å*"),r.createElement("input",{type:g?"text":"password",value:b,onChange:e=>p(e.target.value),className:"w-full p-2 border rounded "+(f.password?"border-red-500":"border-gray-300"),required:!0}),r.createElement("button",{type:"button",className:"absolute right-3 top-8 text-gray-500",onClick:()=>E(!g)},g?"üëÅÔ∏è":r.createElement("span",{className:"strikethrough"},"üëÅÔ∏è")),f.password&&r.createElement("p",{className:"error-text"},f.password)),r.createElement("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700"},"–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è"),r.createElement("div",null," * –ø–æ–ª–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è")),r.createElement("div",{className:"mt-4 text-center"},r.createElement("p",null,"–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç?"," ",r.createElement(l.N_,{to:"/login",className:"text-blue-600 hover:underline"},"–í–æ–π—Ç–∏"))))}}}]);