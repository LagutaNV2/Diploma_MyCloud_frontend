"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[115],{115:function(e,t,a){a.r(t);var l=a(540),r=a(794),n=a(394),s=a(976);t.default=()=>{const[e,t]=(0,l.useState)(""),[a,o]=(0,l.useState)(""),[c,u]=(0,l.useState)(!1),[m,d]=(0,l.useState)(""),i=(0,n.j)(),b=(0,r.Zp)(),[p,g]=(0,l.useState)(!1);return l.createElement("div",{className:"max-w-md mx-auto py-12"},l.createElement("h2",{className:"text-2xl font-bold mb-6 text-center"},"Вход в систему"),m&&l.createElement("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4"},m),l.createElement("form",{onSubmit:async t=>{t.preventDefault(),g(!0),d("");try{console.log("Login starts...");const t=await i((0,s.Lx)({username:e,password:a})).unwrap();console.log("Login successful",t),t.is_admin?b("/admin"):b("/storage")}catch(e){d(e.payload?.detail||"Неверные учетные данные")}finally{g(!1)}},className:"space-y-4"},l.createElement("div",null,l.createElement("label",{className:"block mb-1 font-medium"},"Логин"),l.createElement("input",{type:"text",value:e,onChange:e=>t(e.target.value),className:"w-full p-2 border border-gray-300 rounded",required:!0})),l.createElement("div",{className:"relative"},l.createElement("label",{className:"block mb-1 font-medium"},"Пароль"),l.createElement("input",{type:c?"text":"password",value:a,onChange:e=>o(e.target.value),className:"w-full p-2 border border-gray-300 rounded",required:!0}),l.createElement("button",{type:"button",className:"absolute right-3 top-8 text-gray-500",onClick:()=>u(!c)},c?"👁️":l.createElement("span",{className:"strikethrough"},"👁️"))),l.createElement("button",{type:"submit",disabled:p,className:"w-full bg-blue-600 text-white py-2 rounded "+(p?"opacity-50 cursor-not-allowed":"hover:bg-blue-700")},p?"Вход...":"Войти")),l.createElement("div",{className:"mt-4 text-center"},l.createElement("p",null,"Нет аккаунта?"," ",l.createElement(r.N_,{to:"/register",className:"text-blue-600 hover:underline"},"Зарегистрируйтесь"))))}}}]);